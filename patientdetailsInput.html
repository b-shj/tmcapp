<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;500;600;700&display=swap" rel="stylesheet">
    <title>Patient Details</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="wrapper">
        <form class="form-box" id="form-box">

            
            <input type="submit" value="submit" id="submit">
        </form>
    </div>
    
    <script>
        let submit = document.getElementById('submit')
        let arr = [
       {
          "question":"Select your blood type",
          "answer":{
             "a":"A+",
             "b":"A-",
             "c":"B+",
             "d":"B-",
             "e":"O+",
             "f":"O-",
             "g":"AB+",
             "h":"AB-"
          }
       },
       {
          "question":"Weight (in Kgs)",
          "answer": 25
       },
       {
          "question":"Do you have any allergies? If yes, mention them",
          "answer":""
       },
       {
          "question":"Past medical history",
          "answer":""
       },
       {
          "question":"Are there any diseases or illnesses that run in the family?",
          "answer":""
       },
       {
          "question":"Surgical history",
          "answer":""
       }
    ]
        
        for(let i=0; i<arr.length; i++){
            let que = document.createElement('div')
            que.classList.add('que')
            let id = `que-${i+1}`
            que.setAttribute('id', id)
            let question = document.createElement('p')
            question.classList.add('question')
            question.innerText = arr[i].question
            que.appendChild(question)
            let optionsLen = Object.keys(arr[i].answer).length
            let j=0;
            if(typeof(arr[i].answer)=="object" && optionsLen<=3){
                let j=0;
                for(const key in arr[i].answer){
                    let answer = document.createElement('div')
                    answer.classList.add('answer')
                    let input = document.createElement('input')
                    input.setAttribute('type', "radio")
                    let id = `que-${i+1}(${j+1})`
                    input.setAttribute('id', id)
                    answer.appendChild(input)
                    let label = document.createElement('label')
                    label.setAttribute('for', id)                 
                    label.innerText = `${arr[i].answer[key]}`
                    answer.appendChild(label)
                    que.appendChild(answer)
                    j++
                }  
            }else if(typeof(arr[i].answer)=="object" && optionsLen>3){
                let select = document.createElement('select')
                select.classList.add('answer')
                let j=0;
                for(const key in arr[i].answer){
                    let option = document.createElement('option')
                    option.value = `${arr[i].answer[key]}`
                    option.innerText = `${arr[i].answer[key]}`
                    let id = `que-${i+1}(${j+1})`
                    option.setAttribute('id', j+1)
                    select.appendChild(option)
                    j++
                }  
                que.appendChild(select)
            }else if(typeof(arr[i].answer)=="number"){
                let input = document.createElement('input')
                input.setAttribute('type', "number")
                let id = `que-${i+1}(1)`
                input.classList.add('answer')
                input.setAttribute('id', id)
                input.setAttribute('min',1)
                que.appendChild(input)
            }else{
                let input = document.createElement('input')
                input.setAttribute('type', "text")
                let id = `que-${i+1}(1)`
                input.classList.add('answer')
                input.setAttribute('id', id)
                que.appendChild(input)
            }
            submit.before(que)
        }
    </script>
</body>
</html>